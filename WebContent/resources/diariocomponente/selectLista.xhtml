<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<cc:interface>
	<cc:attribute name="identificador" required="true" />
	<cc:attribute name="objIterator" required="true" />
	<cc:attribute name="descSelecao" required="true" />
	<cc:attribute name="descPropriedade1" required="true" />
	<cc:attribute name="descPropriedade2" required="false" />
	<cc:attribute name="objValue" required="true" />
</cc:interface>

<cc:implementation>

	<h:panelGroup layout="block" styleClass="form-group">
		<div class="col-sm-4">
			<p:selectOneMenu value="#{cc.attrs.objValue}" effect="drop" converter="defaultConverter">
				<f:selectItem itemLabel="#{cc.attrs.descSelecao}" itemValue="" />
				<c:if test="#{cc.attrs.descPropriedade2 != null}">
						<f:selectItems value="#{cc.attrs.objIterator}" var="it"
						itemLabel="#{it[cc.attrs.descPropriedade1][cc.attrs.descPropriedade2]}"
						itemValue="#{it}" />
					</c:if>
				<c:if test="#{cc.attrs.descPropriedade2 == null}">
					<f:selectItems value="#{cc.attrs.objIterator}" var="it"
						itemLabel="#{it[cc.attrs.descPropriedade1]}"
						itemValue="#{it}" />
				</c:if>s
			</p:selectOneMenu>
		</div>
	</h:panelGroup>


	<!--      <div id="selectLista#{cc.attrs.identificador}" class="input-group"> -->
	<!-- 		<div class="input-group-btn"> -->
	<!-- 			<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> -->
	<!-- 				Selecione  uma opção -->
	<!-- 				<span class="caret"></span> -->
	<!-- 			</button> -->
	<!-- 			<ul class="dropdown-menu"> -->
	<!-- 		         <ui:repeat value="#{cc.attrs.objIterator}" var="iterator"> -->
	<!-- 					<li style="display:block;" class="opcaoSelect#{cc.attrs.identificador}"><a href="javascript:" onclick="alterarList#{cc.attrs.identificador}(2);" >${iterator[cc.attrs.descricao1][cc.attrs.descricao2]}</a></li> -->
	<!-- 					<li style="display:block;" class="opcaoSelect#{cc.attrs.identificador}"><a href="javascript:" onclick="alterarList#{cc.attrs.identificador}(2);" >${iterator[cc.attrs.descricao1]}</a></li> -->
	<!-- 		         </ui:repeat>	 -->
	<!-- 			</ul> -->
	<!-- 		</div> -->
	<!-- 	</div> -->

	<script>
		/*<![CDATA[*/

		$(".input-group-btn .dropdown-menu li").click(function() {

			var li = $(this), btn = $('.btn:first-child');

			$(this).closest('ul').prev().text($(this).text())

		});
		/*]]>*/
	</script>

</cc:implementation>
</html>
