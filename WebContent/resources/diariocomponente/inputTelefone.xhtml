<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:cc="http://java.sun.com/jsf/composite"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

 <cc:interface>
 	 <cc:attribute name="identificador" required="true" />
     <cc:attribute name="telefone" required="true" />
     <cc:attribute name="listTelefoneTipo" required="true" />
 </cc:interface>

 <cc:implementation>
     
     <div id="escolherDocumentoTipo#{cc.attrs.identificador}" class="input-group">
     
			<div class="input-group-btn">
			
				<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				
					<ui:repeat value="#{cc.attrs.listTelefoneTipo}" var="opt">
						<span style="display:none;" class="telefoneTipo#{cc.attrs.identificador}" id="telefoneTipo#{cc.attrs.identificador}#{opt.codigo}">#{opt.texto}</span>
					</ui:repeat>
					
					<span class="caret"></span>
					
				</button>
				
				<ul class="dropdown-menu">
					
					<ui:repeat value="#{cc.attrs.listTelefoneTipo}" var="opt">
						<li class="opcaoMenuTelefoneTipo#{cc.attrs.identificador}" id="opcaoMenuTelefoneTipo#{cc.attrs.identificador}#{opt.codigo}">
							<a href="javascript:" onclick="alterarDocumentoTipo#{cc.attrs.identificador}(#{opt.codigo});" >#{opt.texto}</a>
						</li>
					</ui:repeat>
					
				</ul>
				
			</div>
		 
			<h:inputText styleClass="form-control telefoneComDdd" value="#{cc.attrs.telefone.numero}" />
			
			<label class="input-group-addon">
				<h:selectBooleanCheckbox value="#{cc.attrs.telefone.preferencial}" /> PreferÃªncial
			</label>
		
		<h:inputHidden value="#{cc.attrs.telefone.telefoneTipo}" />
	</div>
     
	<script>
	/*<![CDATA[*/
	         
		$( document ).ready(function() {
		
			alterarDocumentoTipo#{cc.attrs.identificador}(#{cc.attrs.telefone.telefoneTipo});
		
		});
	         
		function alterarDocumentoTipo#{cc.attrs.identificador}(selecionar){

			$( "#escolherDocumentoTipo#{cc.attrs.identificador}" ).find( "input[type='hidden']" ).not( "script" ).val(selecionar);

			$(".telefoneTipo#{cc.attrs.identificador}").hide();
			$(".opcaoMenuTelefoneTipo#{cc.attrs.identificador}").show();

			$("#telefoneTipo#{cc.attrs.identificador}"+selecionar).show();
			$("#opcaoMenuTelefoneTipo#{cc.attrs.identificador}"+selecionar).hide();
			
		}
	      	
	/*]]>*/
	</script>
     
 </cc:implementation>
</html>